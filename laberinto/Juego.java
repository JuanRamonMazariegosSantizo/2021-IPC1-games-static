import java.util.Random;
import java.util.Scanner;

/**
 * Juego
 */
public class Juego {

        public Scanner scanner = new Scanner(System.in);
        public Random random = new Random();

        // jugador
        int jugadorPosX = 0;
        int jugadorPosY = 0;
        boolean mirar = false;

        public static void main(String[] args) {
                Juego nuevoJuego = new Juego();
                nuevoJuego.jugar();
        }

        public Juego() {

        }

        // atributos

        public void jugar() {
                posicionInicialJugador(1);

                while (true) {

                        if (!mirar){
                                imprimirTablero(0, 1, jugadorPosX, jugadorPosY);
                        }
                        else{
                                mirar = false;
                        }

                        movimientoJugador(0);
                }

        }

        // imprimir tablero

        public void imprimirTablero(int numTablero) {
                // agregar al boot
                // agregar al jugador
                for (int i = 0; i < tablero[numTablero].length; i++) {
                        for (int j = 0; j < tablero[numTablero][0].length; j++) {
                                System.out.print("" + (char) tablero[numTablero][i][j]
                                                + (char) tablero[numTablero][i][j]);
                        }
                        System.out.println();
                }
        }

        public void movimientoJugador(int numTablero) {
                boolean movimientoValido = true;
                do {
                        String movimiento = solicitarString(
                                        "Mueva al jugador. movimientos validos: \n   w  arriba\n   s  abajo\n   a  izquierda\n   d  derecha\n   m  mirar\n selecciona una opcion:",
                                        1);
                        movimiento = movimiento.toLowerCase();
                        // System.out.println(" x" + jugadorPosX + " y" + jugadorPosY);
                        switch (movimiento) {
                                case "w":
                                        movimientoValido = verificarMovimientoValido(jugadorPosX, jugadorPosY - 1,
                                                        numTablero);
                                        break;
                                case "s":
                                        movimientoValido = verificarMovimientoValido(jugadorPosX, jugadorPosY + 1,
                                                        numTablero);
                                        break;
                                case "a":
                                        movimientoValido = verificarMovimientoValido(jugadorPosX - 1, jugadorPosY,
                                                        numTablero);
                                        break;
                                case "d":
                                        movimientoValido = verificarMovimientoValido(jugadorPosX + 1, jugadorPosY,
                                                        numTablero);
                                        break;
                                case "m":
                                        mirar = true;
                                        imprimirTablero(0, 5, jugadorPosX, jugadorPosY);
                                        break;
                                default:
                                        movimientoValido = false;
                                        System.out.println("Ingrese un valor correcto o una jugada correcta");
                                        break;
                        }
                } while (!movimientoValido);
        }

        public boolean verificarMovimientoValido(int x, int y, int numTablero) {
                boolean res = false;
                if ((x >= 0) && (y >= 0) && (x <= 29) && (y <= 29)) {
                        int posTablero = tablero[numTablero][y][x];
                        if ((posTablero != 9608) && (posTablero != 9619) && (posTablero != 9617)) {
                                res = true;
                                jugadorPosX = x;
                                jugadorPosY = y;
                        } else {
                                System.out.println("El moviento no es permitido. 1");
                        }
                } else {
                        System.out.println("El moviento no es permitido.2 ");
                }

                return res;
        }

        public void posicionInicialJugador(int numTablero) {
                int x, y = 0;
                do {
                        x = generarNumeroRandom(0, 29);
                        y = generarNumeroRandom(0, 29);
                } while (!(tablero[numTablero][y][x] == 32));
                jugadorPosX = x;
                jugadorPosY = y;

        }

        public void imprimirTablero(int numTablero, int cantVisibilidad, int posX, int posY) {
                // agregar al boot
                // agregar al jugador
                String casillaSinVisibilidad = "" + ((char) 9617) + ((char) 9617);
                for (int i = 0; i < tablero[numTablero].length; i++) {
                        for (int j = 0; j < tablero[numTablero][0].length; j++) {

                                if (((posY - cantVisibilidad) <= i) &&
                                                ((posX - cantVisibilidad) <= j) &&
                                                ((posY + cantVisibilidad) >= i) &&
                                                ((posX + cantVisibilidad) >= j)) {

                                        if ((jugadorPosX == j) && (jugadorPosY == i)) {
                                                System.out.print("" + (char) 182
                                                                + (char) tablero[numTablero][i][j]);
                                        } else {
                                                System.out.print("" + (char) tablero[numTablero][i][j]
                                                                + (char) tablero[numTablero][i][j]);
                                        }
                                } else {
                                        System.out.print(casillaSinVisibilidad);
                                }

                        }
                        System.out.println();
                }
        }

        public int generarNumeroRandom(int min, int max) {
                return random.nextInt((max + 1) - min) + min;
        }

        public String solicitarString(String mensaje, int tamanyoCadena) {
                String respuesta = "";
                boolean hayErrorStringIngresado = false;

                do {
                        System.out.println("\n" + mensaje);
                        respuesta = scanner.nextLine();
                        // scanner.nextLine();//probar
                        respuesta = respuesta.trim();
                        if ((respuesta.length() > 0) && (respuesta.length() <= tamanyoCadena)) {
                                hayErrorStringIngresado = false;
                        } else {
                                hayErrorStringIngresado = true;
                                System.out.println("Ingresa un caracter como minimo.");
                        }

                } while (hayErrorStringIngresado);

                return respuesta;
        }

        // short[][] ejem = {
        // { 1, 2, 3 },
        // { 5, 6, 7 },
        // { 8, 9, 10 }
        // };

        // tablero
        short[][][] tablero = { {
                        { 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9618, 9608, 9608, 9608, 9608, 9608, 9608,
                                        9608, 9608,
                                        9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608 },
                        { 9618, 32, 32, 32, 32, 32, 32, 9619, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9619, 32, 32, 32, 32,
                                        32, 32, 32,
                                        32, 9619, 32, 32, 9618 },
                        { 9608, 9619, 9619, 9619, 9619, 9619, 32, 32, 9619, 9619, 9619, 32, 9619, 9619, 9619, 32, 9619,
                                        32, 32,
                                        9619, 9619, 9619, 9619, 9619, 9619, 32, 32, 9619, 32, 9608 },
                        { 9608, 32, 32, 32, 32, 9619, 32, 9619, 32, 32, 9619, 32, 9619, 32, 9619, 32, 9619, 32, 9619,
                                        32, 9619, 32,
                                        32, 32, 9619, 9619, 32, 32, 32, 9608 },
                        { 9608, 32, 9619, 9619, 32, 9619, 32, 32, 32, 32, 9619, 32, 9619, 32, 9619, 32, 9619, 9619, 32,
                                        32, 9619,
                                        32, 9619, 32, 32, 9619, 32, 9619, 32, 9608 },
                        { 9608, 32, 9619, 32, 32, 9619, 32, 9619, 9619, 9619, 9619, 9619, 9619, 32, 9619, 32, 32, 32,
                                        9619, 32,
                                        9619, 32, 9619, 9619, 9619, 9619, 32, 9619, 32, 9608 },
                        { 9617, 32, 9619, 9619, 32, 32, 32, 32, 32, 32, 9619, 32, 9619, 32, 32, 32, 32, 32, 32, 32, 32,
                                        32, 9619,
                                        32, 32, 32, 32, 9619, 9619, 9608 },
                        { 9608, 9619, 32, 32, 32, 9619, 32, 9619, 32, 9619, 32, 32, 9619, 9619, 32, 9619, 9619, 32,
                                        9619, 9619,
                                        9619, 9619, 9619, 32, 32, 32, 9619, 9619, 32, 9608 },
                        { 9608, 32, 32, 9619, 32, 9619, 32, 32, 32, 9619, 32, 9619, 32, 9619, 32, 32, 9619, 32, 9619,
                                        32, 32, 32,
                                        32, 32, 32, 32, 32, 9619, 32, 9608 },
                        { 9608, 32, 9619, 9619, 32, 9619, 9619, 9619, 32, 9619, 32, 9619, 32, 9619, 9619, 32, 9619, 32,
                                        9619, 9619,
                                        9619, 32, 9619, 9619, 9619, 9619, 32, 9619, 32, 9608 },
                        { 9608, 32, 32, 32, 32, 9619, 32, 9619, 32, 9619, 32, 9619, 32, 9619, 32, 32, 9619, 32, 32, 32,
                                        9619, 32,
                                        32, 9619, 32, 9619, 32, 9619, 32, 9608 },
                        { 9608, 9619, 9619, 32, 9619, 32, 32, 32, 32, 9619, 32, 9619, 32, 9619, 9619, 32, 9619, 9619,
                                        9619, 9619,
                                        9619, 32, 9619, 32, 9619, 9619, 32, 9619, 32, 9608 },
                        { 9608, 32, 32, 9619, 32, 32, 9619, 9619, 9619, 32, 32, 9619, 32, 9619, 32, 32, 32, 32, 32, 32,
                                        32, 32, 32,
                                        32, 32, 9619, 32, 9619, 32, 9608 },
                        { 9608, 9619, 32, 9619, 9619, 32, 9619, 32, 32, 9619, 32, 9619, 32, 32, 32, 9619, 32, 9619,
                                        9619, 32, 9619,
                                        32, 32, 9619, 32, 9619, 32, 9619, 32, 9608 },
                        { 9608, 32, 32, 9619, 32, 32, 9619, 32, 9619, 9619, 32, 9619, 32, 9619, 32, 9619, 9619, 32, 32,
                                        9619, 32,
                                        32, 9619, 32, 32, 9619, 32, 9619, 32, 9608 },
                        { 9608, 9619, 32, 9619, 9619, 32, 32, 32, 32, 9619, 32, 9619, 9619, 9619, 32, 9619, 32, 32, 32,
                                        32, 32,
                                        9619, 32, 32, 32, 9619, 32, 9619, 32, 9608 },
                        { 9608, 32, 32, 9619, 32, 32, 9619, 32, 9619, 9619, 32, 32, 9619, 32, 32, 9619, 32, 9619, 9619,
                                        9619, 9619,
                                        9619, 32, 32, 32, 9619, 32, 9619, 32, 9608 },
                        { 9608, 9619, 32, 32, 32, 9619, 9619, 9619, 32, 9619, 32, 9619, 32, 32, 32, 32, 32, 9619, 32,
                                        32, 32, 32,
                                        32, 32, 32, 32, 9619, 9619, 32, 9608 },
                        { 9608, 32, 9619, 32, 9619, 32, 32, 32, 32, 9619, 32, 32, 9619, 9619, 9619, 9619, 9619, 9619,
                                        9619, 9619,
                                        9619, 9619, 9619, 9619, 9619, 32, 32, 32, 32, 9608 },
                        { 9608, 32, 9619, 32, 32, 32, 9619, 9619, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                        32, 32, 32,
                                        9619, 9619, 32, 9619, 32, 9608 },
                        { 9608, 32, 9619, 9619, 9619, 9619, 9619, 32, 32, 9619, 9619, 9619, 9619, 9619, 9619, 9619,
                                        9619, 9619,
                                        9619, 9619, 9619, 9619, 9619, 32, 32, 9619, 32, 9619, 9619, 9608 },
                        { 9608, 32, 9619, 32, 32, 32, 9619, 32, 9619, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                        32, 32, 9619,
                                        32, 9619, 32, 32, 32, 9618 },
                        { 9608, 32, 32, 32, 9619, 32, 9619, 32, 32, 9619, 32, 9619, 9619, 9619, 9619, 9619, 9619, 32,
                                        9619, 9619,
                                        9619, 32, 32, 32, 32, 9619, 32, 9619, 9619, 9608 },
                        { 9608, 32, 9619, 9619, 9619, 32, 9619, 32, 9619, 32, 32, 9619, 32, 32, 32, 32, 9619, 32, 32,
                                        32, 9619, 32,
                                        9619, 9619, 9619, 9619, 32, 9619, 32, 9608 },
                        { 9608, 32, 9619, 32, 32, 32, 9619, 32, 32, 9619, 32, 9619, 9619, 9619, 9619, 32, 9619, 9619,
                                        9619, 32,
                                        9619, 32, 32, 32, 32, 9619, 32, 32, 32, 9608 },
                        { 9608, 32, 9619, 9619, 9619, 32, 9619, 9619, 9619, 9619, 32, 9619, 32, 32, 32, 32, 9619, 32,
                                        9619, 32,
                                        9619, 9619, 9619, 32, 9619, 32, 9619, 9619, 32, 9608 },
                        { 9608, 32, 9619, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9619, 32, 32, 9619, 32, 9619, 32, 32,
                                        32, 32, 32,
                                        9619, 32, 9619, 32, 32, 9608 },
                        { 9608, 32, 9619, 9619, 9619, 9619, 9619, 9619, 9619, 9619, 9619, 32, 9619, 32, 9619, 9619,
                                        9619, 32, 9619,
                                        32, 9619, 9619, 9619, 9619, 9619, 32, 32, 32, 9619, 9608 },
                        { 9608, 32, 32, 32, 32, 32, 32, 9619, 32, 32, 32, 32, 9619, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                        32, 32, 32,
                                        32, 9619, 32, 32, 9608 },
                        { 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9618, 9608,
                                        9608, 9608,
                                        9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608,
                                        9608 } },
                        { { 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9618, 9608, 9608, 9608, 9608, 9608, 9608,
                                        9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608,
                                        9608, 9608 },
                                        { 9618, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9618 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9617, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 9619, 32, 32, 9619, 32, 9619, 9619, 9619, 9619, 9619, 32, 32,
                                                        32, 32, 32, 9619, 9619, 32, 32, 32, 9619, 9619, 32, 32, 32, 32,
                                                        9608 },
                                        { 9608, 32, 32, 9619, 32, 32, 9619, 32, 32, 9619, 9619, 32, 32, 32, 32, 32, 32,
                                                        32, 9619, 9619, 32, 32, 32, 9619, 9619, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 9619, 32, 32, 9619, 32, 32, 9619, 9619, 32, 32, 32, 32, 32, 32,
                                                        32, 9619, 9619, 32, 32, 32, 9619, 9619, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 9619, 32, 32, 9619, 32, 32, 9619, 9619, 32, 32, 32, 32, 32, 32,
                                                        32, 9619, 9619, 32, 32, 32, 9619, 9619, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 9619, 32, 32, 9619, 32, 32, 9619, 9619, 32, 32, 32, 32, 32, 32,
                                                        32, 9619, 9619, 32, 32, 32, 9619, 9619, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 9619, 9619, 9619, 9619, 32, 32, 9619, 9619, 32, 32, 9619, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 9619, 9619, 9619, 9619, 32, 32, 9619, 9619, 32, 32, 32, 9619,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9619,
                                                        9608 },
                                        { 9608, 32, 32, 9619, 32, 32, 9619, 32, 32, 9619, 9619, 32, 32, 32, 32, 9619,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9619, 32, 9608 },
                                        { 9608, 32, 32, 9619, 32, 32, 9619, 32, 32, 9619, 9619, 32, 32, 32, 32, 32,
                                                        9619, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9619, 32, 32, 9608 },
                                        { 9608, 32, 32, 9619, 32, 32, 9619, 32, 32, 9619, 9619, 32, 32, 32, 32, 32, 32,
                                                        9619, 32, 32, 32, 32, 32, 32, 32, 9619, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 9619, 32, 32, 9619, 32, 9619, 9619, 9619, 9619, 9619, 32, 32,
                                                        32, 32, 32, 9619, 32, 32, 32, 32, 32, 9619, 32, 32, 32, 32,
                                                        9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        9619, 32, 32, 32, 9619, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 9619, 9619, 9619, 32, 32, 32, 32, 32, 32, 9618 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
                                                        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 9608 },
                                        { 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608,
                                                        9618, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608, 9608,
                                                        9608, 9608, 9608, 9608, 9608, 9608, 9608 } }

        };

}